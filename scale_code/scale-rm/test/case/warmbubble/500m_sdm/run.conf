#####
#
# SCALE-RM run configulation
#
#####

&PARAM_PRC_CARTESC
 PRC_NUM_X = 3,
 PRC_NUM_Y = 2,
/

&PARAM_ATMOS_GRID_CARTESC_INDEX
 KMAX = 40,
 IMAX = 40,
 JMAX = 40,
 IHALO = 2,
 JHALO = 2,
/

&PARAM_ATMOS_GRID_CARTESC
 DZ        =  500.D0,
 DX        =  500.D0,
 DY        =  500.D0,
 BUFFER_DZ = 5000.D0,
 BUFFFACT  =   1.1D0,
/

&PARAM_TIME
 TIME_STARTDATE             = 0000, 1, 1, 0, 0, 0,
 TIME_STARTMS               = 0.D0,
 TIME_DURATION              = 5400.D0,
 TIME_DURATION_UNIT         = "SEC",
 TIME_DT                    = 3.0D0,
 TIME_DT_UNIT               = "SEC",
 TIME_DT_ATMOS_DYN          = 1.0D0,
 TIME_DT_ATMOS_DYN_UNIT     = "SEC",
 TIME_DT_ATMOS_PHY_MP       = 6.0D0,
 TIME_DT_ATMOS_PHY_MP_UNIT  = "SEC",
 TIME_DT_ATMOS_PHY_TB       = 6.0D0,
 TIME_DT_ATMOS_PHY_TB_UNIT  = "SEC",
/

&PARAM_RESTART
 RESTART_IN_BASENAME = "init_00000101-000000.000",
 RESTART_OUTPUT      = .false.,
/

&PARAM_STATISTICS
 STATISTICS_checktotal     = .false.,
 STATISTICS_use_globalcomm = .true.,
/

&PARAM_ATMOS
 ATMOS_DYN_TYPE    = "HEVE",
 ATMOS_PHY_MP_TYPE = "SDM",
 ATMOS_PHY_TB_TYPE = "SMAGORINSKY",
/

&PARAM_ATMOS_VARS
 ATMOS_VARS_CHECKRANGE = .true.,
/

&PARAM_ATMOS_REFSTATE
 ATMOS_REFSTATE_TYPE = "INIT",
/

&PARAM_ATMOS_DYN
 ATMOS_DYN_TINTEG_SHORT_TYPE          = "RK4",
 ATMOS_DYN_TINTEG_TRACER_TYPE         = "RK3WS2002",
 ATMOS_DYN_FVM_FLUX_TYPE              = "CD4",
 ATMOS_DYN_FVM_FLUX_TRACER_TYPE       = "UD3KOREN1993",
 ATMOS_DYN_FLAG_FCT_TRACER            = .false.,
 ATMOS_DYN_NUMERICAL_DIFF_COEF        = 1.D-3,
 ATMOS_DYN_NUMERICAL_DIFF_COEF_TRACER = 0.D0,
 ATMOS_DYN_WDAMP_TAU                  = 10.D0,
 ATMOS_DYN_WDAMP_HEIGHT               = 15.D3,
/

&PARAM_ATMOS_PHY_TB_SMG
 ATMOS_PHY_TB_SMG_implicit = .false.,
/

&PARAM_ATMOS_PHY_MP
 MP_use_tendency = .false., ! flag to use tendency for SDM
 MP_do_precipitation = .true.,
/

&PARAM_ATMOS_PHY_MP_SDM
 RANDOM_IN_BASENAME = "random_number_init",
 RANDOM_OUT_BASENAME = "random_number_restart",
 SD_OUT_BASENAME = "superdroplet_restart",
 docondensation   = .true.,
 docollision      = .true.,
 domovement       = .true.,
 sdm_cold         = .true.,  ! .false.: warm sdm, .true.: cold sdm
 domeltfreeze     = .true.,  ! works only when sdm_cold==.true.
 dosublimation    = .true.,  ! works only when sdm_cold==.true.
 sdm_rqc2qr       = 40.d-6,  ! threshold for raind droplets [m]
 sdm_dtcmph       = 0.5d0, 1.0d0, 6.0d0, 6.0d0, 0.5d0
 ! condensation, coalescence, advection, melting/freezing [coldsdm only], sublimation/deposition [coldsdm only]
 sdm_rdnc         = 0.d0,
 sdm_sdnmlvol     = 125.d+6,   ! reference volume for SD initialization (e.g., grid box size) [m^3]
 sdm_inisdnc      = 10.0d0,  ! initial number of SDs per reference volume [#/sdnmlvol]
 sdm_zlower       =  0.d0,   ! lower boundary of SDs [m]
 sdm_zupper       = 15.d3,   ! upper boundary of SDs [m]
 sdm_aslset       = -1,      ! aerosol type
 sdm_fctr2multi   = 3.d0     ! factor to increase the initial number density of soluble aerosol particles. This will not be applied to insoluble aersol.
 sdm_aslmw        = -999.d0,
 sdm_extbuf       = 10,      ! ratio of additional SDs for buffer [%]
 sdm_aslfmrate    = 0.d0,
 sdm_aslfmdt      = 0.d0,
 sdm_aslfmsdnc    = 0.d0,
 sdm_colbrwn      = 0,
 sdm_colkrnl      = 2,
 sdm_mvexchg      = 1,       ! Flag of momentum coupling. 0: none, 1: rhow only (no terminal velocity acceleration)
 sdm_dmpvar  = 010,          ! Control flag to output Super Droplets, integer
                             ! 1st digit (10^0) corresponds to text output
                             ! 2nd digit (10^1) corresponds to binary output
                             ! 3rd digit (10^2) corresponds to binary output of selected SDs
                             ! 0: off, 1: on, 2: history output
 sdm_dmpitva  = 1800.d0,     ! Time interval of text output, real(RP) [s]
 sdm_dmpnskip = 1,           ! Base skip to store super droplets in text format, integer
 sdm_dmpitvb  = 1800.d0,     ! Time interval of binary output of all droplets, real(RP) [s]
 sdm_dmpitvl  = 1800.d0,     ! Time interval of binary output of large droplets, real(RP) [s]
 sdm_dmpsdsiz = 0.d0,        ! Threshold radius to store large super droplets in binary format, real(RP) [m]
/

&PARAM_FILE_HISTORY
 FILE_HISTORY_DEFAULT_BASENAME  = "history",
 FILE_HISTORY_DEFAULT_TINTERVAL = 60.D0,
 FILE_HISTORY_DEFAULT_TUNIT     = "SEC",
 FILE_HISTORY_DEFAULT_TSTATS_OP = "none",
 FILE_HISTORY_DEFAULT_DATATYPE  = "REAL4",
 FILE_HISTORY_OUTPUT_STEP0      = .true.,
/

&HISTORY_ITEM name='U'    /
&HISTORY_ITEM name='V'    /
&HISTORY_ITEM name='W'    /
&HISTORY_ITEM name='PT'   /
&HISTORY_ITEM name='RH'   /
#! &HISTORY_ITEM name='RHI'  /

&HISTORY_ITEM name='QHYD' /
#! &HISTORY_ITEM name='QLIQ' /
#! &HISTORY_ITEM name='QICE' /
&HISTORY_ITEM name='QV'   /
&HISTORY_ITEM name='QC_hyd'   /
&HISTORY_ITEM name='QR_hyd'   /
&HISTORY_ITEM name='QI_hyd'   /
&HISTORY_ITEM name='QS_hyd'   /
&HISTORY_ITEM name='QG_hyd'   /

#! &HISTORY_ITEM name='Re_QC' /
#! &HISTORY_ITEM name='Re_QR' /

&HISTORY_ITEM name='PREC' /
&HISTORY_ITEM name='RAIN' /
&HISTORY_ITEM name='SNOW' /

#! &HISTORY_ITEM name='Vterm_QR' /
#! &HISTORY_ITEM name='Vterm_QI' /
#! &HISTORY_ITEM name='Vterm_QS' /
#! &HISTORY_ITEM name='Vterm_QG' /

&PARAM_MONITOR
 MONITOR_STEP_INTERVAL = 10,
/

&MONITOR_ITEM name='QDRY' /
&MONITOR_ITEM name='QTOT' /
&MONITOR_ITEM name='EVAP' /
&MONITOR_ITEM name='PREC' /

&MONITOR_ITEM name='ENGT' /
&MONITOR_ITEM name='ENGP' /
&MONITOR_ITEM name='ENGK' /
&MONITOR_ITEM name='ENGI' /

&MONITOR_ITEM name='QV'   /
&MONITOR_ITEM name='QC_hyd'   /
&MONITOR_ITEM name='QR_hyd'   /
&MONITOR_ITEM name='QI_hyd'   /
&MONITOR_ITEM name='QS_hyd'   /
&MONITOR_ITEM name='QG_hyd'   /
